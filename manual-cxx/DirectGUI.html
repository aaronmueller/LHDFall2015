<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

  <head>
    <title>DirectGUI - Panda3D Manual</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="style.css" type="text/css"><link rel="shortcut icon" href="favicon.ico">    <meta name="keywords" content="Panda3D, Panda, 3D, Python, graphics, free, game, engine, game rendering engine, simulation, open source, free download, Disney, ETC, Entertainment Technology Center, open-source">
    <meta name="description" content="Free open source 3D game and simulation engine developed by Disney and maintained by Carnegie Mellon University\'s Entertainment Technology Center">
    </head>
    <body>
<table width=960 cellpadding=0 cellspacing=0 id=main align=center>
<tr>
<td id=borderleft></td>
<td id=maincenter valign=top>
<tr><td id=pcontent valign=top><h2>Panda3D Manual: DirectGUI</h2>
<div style="width:100%; padding: 1px;" class=subnavigation>
<table width="640px" cellpadding="0" cellspacing="0" border="0">
              <tr>
              <td width="70px" align="left">&nbsp;&nbsp;<a style="text-decoration:none" href="Embedded_Text_Properties.html"><img border=0 width=16 height=16 src="arrow_left.png" align=absmiddle> <u>Prev</u></a></td>
              <td width="70px" align="center"><a style="text-decoration:none" href="Main_Page.html"><img border=0 width=16 height=16 src="arrow_up.png" align=absmiddle><u>Top</u></a></td>
              <td width="70px" align="right"><a style="text-decoration:none" href="DirectButton.html"><u>Next</u> <img border=0 width=16 height=16 src="arrow_right.png" align=absmiddle></a>&nbsp;&nbsp;</td>
              </tr></table></div><div class='wikicontent' id='wikicontentid'><p>Since DirectGUI is implemented in Python, it is useless to c++ programmers.
However, there is another GUI system, PGui, that forms the foundation of DirectGUI and is in fact implemented in C++.<br />
Let's take a look at some PGui functions.<br />
</p><p><b>The PGui c++ modules</b><br />
</p><p><b>[PGButton]</b><br />
</p>
<pre class="cpp"><span style="color: #339900;">#include &quot;PGButton.h&quot;</span></pre>
<p>with PGButton you can create a freely definable clickable button.<br />
It can hold four different states:<br />
</p><p>ready     -&gt; The default state of an untouched button<br />
pressed   -&gt; The pressed state (the user clicked on it)<br />
roll over -&gt; When the user hovers over the button without clicking<br />
inactive  -&gt; Disabled state<br />
</p><p>Example usage, creating a texture for each state:
</p>
<pre class="cpp">PT<span style="color: #008000;">&#40;</span>PGButton<span style="color: #008000;">&#41;</span> MyButton<span style="color: #008080;">;</span><br />MyButton <span style="color: #000080;">=</span> <span style="color: #0000dd;">new</span> PGButton<span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;MyButton&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />MyButton<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>setup<span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;Button&quot;</span>,<span style="color: #0000dd;">0.1</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />PT<span style="color: #008000;">&#40;</span>Texture<span style="color: #008000;">&#41;</span> ButtonReady<span style="color: #000080;">=</span>TexturePool<span style="color: #008080;">::</span><span style="color: #000000;">load_texture</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;button.png&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />PT<span style="color: #008000;">&#40;</span>Texture<span style="color: #008000;">&#41;</span> ButtonRollover<span style="color: #000080;">=</span>TexturePool<span style="color: #008080;">::</span><span style="color: #000000;">load_texture</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;button_active.png&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />PT<span style="color: #008000;">&#40;</span>Texture<span style="color: #008000;">&#41;</span> ButtonPressed<span style="color: #000080;">=</span>TexturePool<span style="color: #008080;">::</span><span style="color: #000000;">load_texture</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;button_pressed.png&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />PT<span style="color: #008000;">&#40;</span>Texture<span style="color: #008000;">&#41;</span> ButtonInactive<span style="color: #000080;">=</span>TexturePool<span style="color: #008080;">::</span><span style="color: #000000;">load_texture</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;button_inactive.png&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br /><span style="color: #666666;">// PGFrameStyle is a powerful way to change the appearance of the button:</span><br />PGFrameStyle MyStyle<span style="color: #000080;">=</span>MyButton<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>get_frame_style<span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// frame_style(0): ready state</span><br />MyStyle.<span style="color: #000000;">set_type</span><span style="color: #008000;">&#40;</span>PGFrameStyle<span style="color: #008080;">::</span><span style="color: #000000;">T_flat</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />MyStyle.<span style="color: #000000;">set_texture</span><span style="color: #008000;">&#40;</span>ButtonReady<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>    MyButton<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>set_frame_style<span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0</span>,MyStyle<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />MyStyle.<span style="color: #000000;">set_texture</span><span style="color: #008000;">&#40;</span>ButtonRollover<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> MyButton<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>set_frame_style<span style="color: #008000;">&#40;</span><span style="color: #0000dd;">1</span>,MyStyle<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />MyStyle.<span style="color: #000000;">set_texture</span><span style="color: #008000;">&#40;</span>ButtonPressed<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span>  MyButton<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>set_frame_style<span style="color: #008000;">&#40;</span><span style="color: #0000dd;">2</span>,MyStyle<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />MyStyle.<span style="color: #000000;">set_texture</span><span style="color: #008000;">&#40;</span>ButtonInactive<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> MyButton<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>set_frame_style<span style="color: #008000;">&#40;</span><span style="color: #0000dd;">3</span>,MyStyle<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />NodePath defbutNP <span style="color: #000080;">=</span> window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>get_aspect_2d<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>.<span style="color: #000000;">attach_new_node</span><span style="color: #008000;">&#40;</span>MyButton<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />defbutNP.<span style="color: #000000;">set_scale</span><span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0.1</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br /><span style="color: #666666;">// Setup callback function</span><br />framework.<span style="color: #000000;">define_key</span><span style="color: #008000;">&#40;</span>MyButton<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>get_click_event<span style="color: #008000;">&#40;</span>MouseButton<span style="color: #008080;">::</span><span style="color: #000000;">one</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;button press&quot;</span>, <span style="color: #000040;">&amp;</span>GUI_Callback_Button_Clicked, MyButton<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre>
<p>An example of a callback function:
</p>
<pre class="cpp"><span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> GUI_Callback_Button_Clicked<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">const</span> Event <span style="color: #000040;">*</span>ev, <span style="color: #0000ff;">void</span> <span style="color: #000040;">*</span>data<span style="color: #008000;">&#41;</span><br /><span style="color: #008000;">&#123;</span><br /> PGButton<span style="color: #000040;">*</span> CurrentButton<span style="color: #000080;">=</span><span style="color: #008000;">&#40;</span>PGButton <span style="color: #000040;">*</span><span style="color: #008000;">&#41;</span>data<span style="color: #008080;">;</span><br /> <span style="color: #666666;">// Your action here</span><br /> <span style="color: #0000dd;">printf</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;%s has been pressed.<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span>,CurrentButton<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>get_name<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>.<span style="color: #000000;">c_str</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #008000;">&#125;</span></pre>
<p><b>[PGSliderBar]</b><br />
</p>
<pre class="cpp"><span style="color: #339900;">#include &quot;PGSliderBar.h&quot;</span></pre>
<p>A simple sliderbar.<br />
This slider basically has four components:<br />
The thumb button. This is the sliding part.<br />
The slider. This is the 'rail' the thumb button slides along.<br />
The left button. User can click on it to slide the thumb button to the left.<br />
The right button. User can click on it to slide the thumb button to the right.<br />
Using default initialisation, none of these components are textured.<br />
</p>
<pre class="cpp">PT<span style="color: #008000;">&#40;</span>PGSliderBar<span style="color: #008000;">&#41;</span> Slider<span style="color: #000080;">=</span><span style="color: #0000dd;">new</span> PGSliderBar<span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;MySliderBar&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br /><span style="color: #666666;">// Setup, feeding the constructor with (bool vertical,float lenght,float width,float bevel)</span><br />Slider<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>setup_slider<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">false</span>,<span style="color: #0000dd;">0.1</span>,<span style="color: #0000dd;">0.1</span>,<span style="color: #0000dd;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// 'rail' properties</span><br />Slider<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>set_range<span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0</span>,<span style="color: #0000dd;">1</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />Slider<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>set_value<span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0.5</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br /><span style="color: #666666;">// Setup scroll bar (the 'moving thumb button' including left and right button)</span><br />Slider<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>setup_scroll_bar<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">false</span>,<span style="color: #0000dd;">0.35</span>,<span style="color: #0000dd;">0.05</span>,<span style="color: #0000ff;">false</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />NodePath SliderNP<span style="color: #000080;">=</span>window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>get_aspect_2d<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>.<span style="color: #000000;">attach_new_node</span><span style="color: #008000;">&#40;</span>Slider<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />SliderNP.<span style="color: #000000;">set_pos</span><span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0</span>,<span style="color: #0000dd;">0</span>,<span style="color: #0000dd;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre>
<p><br />
</p><p>(work in progress, more to come soon.)
</p><p>
</p><p>
</p>
<!-- 
NewPP limit report
Preprocessor node count: 86/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mw_manual:pcache:idhash:971-0!*!0!*!*!*!* and timestamp 20130413052813 -->
</div><div style="width:100%; padding: 1px;" class=subnavigation>
<table width="640px" cellpadding="0" cellspacing="0" border="0">
              <tr>
              <td width="70px" align="left">&nbsp;&nbsp;<a style="text-decoration:none" href="Embedded_Text_Properties.html"><img border=0 width=16 height=16 src="arrow_left.png" align=absmiddle> <u>Prev</u></a></td>
              <td width="70px" align="center"><a style="text-decoration:none" href="Main_Page.html"><img border=0 width=16 height=16 src="arrow_up.png" align=absmiddle><u>Top</u></a></td>
              <td width="70px" align="right"><a style="text-decoration:none" href="DirectButton.html"><u>Next</u> <img border=0 width=16 height=16 src="arrow_right.png" align=absmiddle></a>&nbsp;&nbsp;</td>
              </tr></table></div><div id=legal>&copy; Carnegie Mellon University 2010</div></td></tr></table></td><td id=borderright></td></tr></table></td><td id=borderright></td></tr></table></body></html>