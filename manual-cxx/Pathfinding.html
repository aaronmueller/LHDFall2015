<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

  <head>
    <title>Pathfinding - Panda3D Manual</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="style.css" type="text/css"><link rel="shortcut icon" href="favicon.ico">    <meta name="keywords" content="Panda3D, Panda, 3D, Python, graphics, free, game, engine, game rendering engine, simulation, open source, free download, Disney, ETC, Entertainment Technology Center, open-source">
    <meta name="description" content="Free open source 3D game and simulation engine developed by Disney and maintained by Carnegie Mellon University\'s Entertainment Technology Center">
    </head>
    <body>
<table width=960 cellpadding=0 cellspacing=0 id=main align=center>
<tr>
<td id=borderleft></td>
<td id=maincenter valign=top>
<tr><td id=pcontent valign=top><h2>Panda3D Manual: Pathfinding</h2>
<div style="width:100%; padding: 1px;" class=subnavigation>
<table width="640px" cellpadding="0" cellspacing="0" border="0">
              <tr>
              <td width="70px" align="left">&nbsp;&nbsp;<a style="text-decoration:none" href="Path_Follow.html"><img border=0 width=16 height=16 src="arrow_left.png" align=absmiddle> <u>Prev</u></a></td>
              <td width="70px" align="center"><a style="text-decoration:none" href="Main_Page.html"><img border=0 width=16 height=16 src="arrow_up.png" align=absmiddle><u>Top</u></a></td>
              <td width="70px" align="right"><a style="text-decoration:none" href="Mesh_Generation.html"><u>Next</u> <img border=0 width=16 height=16 src="arrow_right.png" align=absmiddle></a>&nbsp;&nbsp;</td>
              </tr></table></div><div class='wikicontent' id='wikicontentid'><p><b>Pathfinding</b>
</p><p>This deals with the NPC’s ability to calculate the best route between two traversable points in your Panda3D environment.  It requires the creation of a navigation mesh (see “Navigation Mesh” under "Mesh Generator" page), which is placed on the surface over which your NPC will be moving.  The navigation mesh allows the system to recognize “traversable nodes” around the mesh, as well as areas which cannot be traversed (areas occupied by an impediment or obstacle for instance).
</p><p><br />
</p><p><b>Using the PandAI pathfinding system:</b>
</p>
<pre class="python">aiBehaviors.<span style="color: black;">initPathFind</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">string</span> filename<span style="color: black;">&#41;</span></pre>
<p>This function activates the path finding with A* for the AI Character. 
Filename is the name of the file that is generated by the <b>Mesh Generator</b> (Covered in the next section of the manual).
</p><p>(Note: The file is in .csv format)
</p><p><br />
</p>
<pre class="python">aiBehaviors.<span style="color: black;">pathFindTo</span><span style="color: black;">&#40;</span>NodePath np, <span style="color: #dc143c;">string</span> <span style="color: #008000;">type</span><span style="color: black;">&#41;</span><br />&#160;<br />aiBehaviors.<span style="color: black;">pathFindTo</span><span style="color: black;">&#40;</span>Vec3 pos, <span style="color: #dc143c;">string</span> <span style="color: #008000;">type</span><span style="color: black;">&#41;</span></pre>
<p>This function finds the best path via A* algorithm (with Binary Heap optimizations) for the AI Character to reach the target destination and then invokes the path follower to make the object follow the path.
</p><p>It can accept both NodePath and Vec3 as input position. NodePath is used when the destination is not static. Vec3 is used when the destination is going to be static.
</p><p>If the AI Character needs to pathfind continuously(say after he has finished traversing to a position, a new destination is acquired ) then input string type as “addPath” else leave as default.
</p><p><br />
</p>
<pre class="python">addStaticObstacle<span style="color: black;">&#40;</span>NodePath obstacle<span style="color: black;">&#41;</span><span style="color: #66cc66;">;</span></pre>
<p>This function is used if the programmer wants to add Obstacles after the mesh has been generated (Say a stack of boxes fall down and blocks the way) to trigger events. It adds a static obstacle to the navigation mesh and pathfinds around it.
</p><p><br />
</p>
<pre class="python">addDynamicObstacle<span style="color: black;">&#40;</span>NodePath obstacle<span style="color: black;">&#41;</span><span style="color: #66cc66;">;</span></pre>
<p>This functions work similar to addStaticObstacle except that in this case the obstacles can move and are not static. This is more processor heavy so if your object is not moving, use the prior instead.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 13/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mw_manual:pcache:idhash:2591-0!*!*!*!*!*!* and timestamp 20130413185726 -->
</div><div style="width:100%; padding: 1px;" class=subnavigation>
<table width="640px" cellpadding="0" cellspacing="0" border="0">
              <tr>
              <td width="70px" align="left">&nbsp;&nbsp;<a style="text-decoration:none" href="Path_Follow.html"><img border=0 width=16 height=16 src="arrow_left.png" align=absmiddle> <u>Prev</u></a></td>
              <td width="70px" align="center"><a style="text-decoration:none" href="Main_Page.html"><img border=0 width=16 height=16 src="arrow_up.png" align=absmiddle><u>Top</u></a></td>
              <td width="70px" align="right"><a style="text-decoration:none" href="Mesh_Generation.html"><u>Next</u> <img border=0 width=16 height=16 src="arrow_right.png" align=absmiddle></a>&nbsp;&nbsp;</td>
              </tr></table></div><div id=legal>&copy; Carnegie Mellon University 2010</div></td></tr></table></td><td id=borderright></td></tr></table></td><td id=borderright></td></tr></table></body></html>