<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

  <head>
    <title>The Window Framework - Panda3D Manual</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="style.css" type="text/css"><link rel="shortcut icon" href="favicon.ico">    <meta name="keywords" content="Panda3D, Panda, 3D, Python, graphics, free, game, engine, game rendering engine, simulation, open source, free download, Disney, ETC, Entertainment Technology Center, open-source">
    <meta name="description" content="Free open source 3D game and simulation engine developed by Disney and maintained by Carnegie Mellon University\'s Entertainment Technology Center">
    </head>
    <body>
<table width=960 cellpadding=0 cellspacing=0 id=main align=center>
<tr>
<td id=borderleft></td>
<td id=maincenter valign=top>
<tr><td id=pcontent valign=top><h2>Panda3D Manual: The Window Framework</h2>
<div style="width:100%; padding: 1px;" class=subnavigation>
<table width="640px" cellpadding="0" cellspacing="0" border="0">
              <tr>
              <td width="70px" align="left">&nbsp;&nbsp;<a style="text-decoration:none" href="How_to_compile_a_CXX_Panda3D_program_on_Mac_OS_X.html"><img border=0 width=16 height=16 src="arrow_left.png" align=absmiddle> <u>Prev</u></a></td>
              <td width="70px" align="center"><a style="text-decoration:none" href="Main_Page.html"><img border=0 width=16 height=16 src="arrow_up.png" align=absmiddle><u>Top</u></a></td>
              <td width="70px" align="right"><a style="text-decoration:none" href="Texturing_in_CXX.html"><u>Next</u> <img border=0 width=16 height=16 src="arrow_right.png" align=absmiddle></a>&nbsp;&nbsp;</td>
              </tr></table></div><div class='wikicontent' id='wikicontentid'><p>
</p><p>This page will explain how to use the WindowFramework class in C++ to open a blank window.
First of all, we need to include the appropriate header files:
</p>
<pre class="cpp"><span style="color: #339900;">#include &quot;pandaFramework.h&quot;</span><br /><span style="color: #339900;">#include &quot;pandaSystem.h&quot;</span></pre>
<p>Second, we need to create an instance of the WindowFramework class and open the main int of course.
</p>
<pre class="cpp">PandaFramework framework<span style="color: #008080;">;</span><br /><span style="color: #0000ff;">int</span> main<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span> <span style="color: #000040;">*</span>argv<span style="color: #008000;">&#91;</span><span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span></pre>
<p>Now, we must open the framework, give the window a nice title and open the window:
</p>
<pre class="cpp">framework.<span style="color: #000000;">open_framework</span><span style="color: #008000;">&#40;</span>argc, argv<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />framework.<span style="color: #000000;">set_window_title</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;Hello World!&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #666666;">// Open it!</span><br />WindowFramework <span style="color: #000040;">*</span>window <span style="color: #000080;">=</span> framework.<span style="color: #000000;">open_window</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre>
<p>Optionally, we can enable keyboard support, in case we want to check for keyboard presses, and we can enable the default camera trackball. Note that you also need to enable keyboard support to receive mouse button events (sic).
</p>
<pre class="cpp"><span style="color: #666666;">// Enable keyboard detection</span><br />window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>enable_keyboard<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #666666;">// Enable default camera movement</span><br />window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>setup_trackball<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre>
<p>Now, we're going to check if the window has opened successfully.
If so, the main loop must be called, using the function <i>framework.main_loop()</i>. This is equal to the <i>run()</i> function in Python.
</p>
<pre class="cpp"><span style="color: #0000ff;">if</span> <span style="color: #008000;">&#40;</span>window <span style="color: #000040;">!</span><span style="color: #000080;">=</span> <span style="color: #008000;">&#40;</span>WindowFramework <span style="color: #000040;">*</span><span style="color: #008000;">&#41;</span><span style="color: #0000ff;">NULL</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span><br />  nout <span style="color: #000080;">&lt;&lt;</span> <span style="color: #FF0000;">&quot;Opened the window successfully!<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span><span style="color: #008080;">;</span><br />&#160;<br />  <span style="color: #666666;">// Put here your own code, such as the loading of your models</span><br />&#160;<br />  framework.<span style="color: #000000;">main_loop</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #008000;">&#125;</span> <span style="color: #0000ff;">else</span> <span style="color: #008000;">&#123;</span><br />  nout <span style="color: #000080;">&lt;&lt;</span> <span style="color: #FF0000;">&quot;Could not load the window!<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span><span style="color: #008080;">;</span><br /><span style="color: #008000;">&#125;</span></pre>
<p>Afterwards, we need to close the framework:
</p>
<pre class="cpp">framework.<span style="color: #000000;">close_framework</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />  <span style="color: #0000ff;">return</span> <span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #008000;">&#125;</span></pre>
<p>Now, <a href="How_to_build_a_CXX_Panda3D_game.html" title="How to build a CXX Panda3D game" class="mw-redirect">compile and run</a> your file and you have your own window opened!
</p><p>For the lazy ones among us, here is the full code:
</p>
<pre class="cpp"><span style="color: #666666;">// Include all the stuff</span><br /><span style="color: #339900;">#include &quot;pandaFramework.h&quot;</span><br /><span style="color: #339900;">#include &quot;pandaSystem.h&quot;</span><br />&#160;<br /><span style="color: #666666;">// Init the PandaFramework class</span><br />PandaFramework framework<span style="color: #008080;">;</span><br />&#160;<br /><span style="color: #0000ff;">int</span> main<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span> <span style="color: #000040;">*</span>argv<span style="color: #008000;">&#91;</span><span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span><br />  <span style="color: #666666;">// Open the framework</span><br />  framework.<span style="color: #000000;">open_framework</span><span style="color: #008000;">&#40;</span>argc, argv<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />  <span style="color: #666666;">// Set a nice title</span><br />  framework.<span style="color: #000000;">set_window_title</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;Hello World!&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />  <span style="color: #666666;">// Open it!</span><br />  WindowFramework <span style="color: #000040;">*</span>window <span style="color: #000080;">=</span> framework.<span style="color: #000000;">open_window</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />  <span style="color: #666666;">// Check whether the window is loaded correctly</span><br />  <span style="color: #0000ff;">if</span> <span style="color: #008000;">&#40;</span>window <span style="color: #000040;">!</span><span style="color: #000080;">=</span> <span style="color: #008000;">&#40;</span>WindowFramework <span style="color: #000040;">*</span><span style="color: #008000;">&#41;</span><span style="color: #0000ff;">NULL</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span><br />    nout <span style="color: #000080;">&lt;&lt;</span> <span style="color: #FF0000;">&quot;Opened the window successfully!<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span><span style="color: #008080;">;</span><br />&#160;<br />    window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>enable_keyboard<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// Enable keyboard detection</span><br />    window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>setup_trackball<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// Enable default camera movement</span><br />&#160;<br />    <span style="color: #666666;">// Put here your own code, such as the loading of your models</span><br />&#160;<br />    <span style="color: #666666;">// Do the main loop</span><br />    framework.<span style="color: #000000;">main_loop</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />  <span style="color: #008000;">&#125;</span> <span style="color: #0000ff;">else</span> <span style="color: #008000;">&#123;</span><br />    nout <span style="color: #000080;">&lt;&lt;</span> <span style="color: #FF0000;">&quot;Could not load the window!<span style="color: #666666; font-weight: bold;">\n</span>&quot;</span><span style="color: #008080;">;</span><br />  <span style="color: #008000;">&#125;</span><br />  <span style="color: #666666;">// Close the framework</span><br />  framework.<span style="color: #000000;">close_framework</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />  <span style="color: #0000ff;">return</span> <span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #008000;">&#125;</span></pre>
<p>The WindowFramework class also provides all the basic things the python ShowBase / DirectStart equivalent would normally take care of:
</p>
<pre class="cpp"><span style="color: #0000ff;">const</span> NodePath <span style="color: #000040;">&amp;</span>get_render<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #0000ff;">const</span> NodePath <span style="color: #000040;">&amp;</span>get_render_2d<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #0000ff;">const</span> NodePath <span style="color: #000040;">&amp;</span>get_aspect_2d<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br /><span style="color: #0000ff;">void</span> set_wireframe<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">bool</span> enable<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #0000ff;">void</span> set_texture<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">bool</span> enable<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #0000ff;">void</span> set_two_sided<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">bool</span> enable<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #0000ff;">void</span> set_one_sided_reverse<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">bool</span> enable<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #0000ff;">void</span> set_lighting<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">bool</span> enable<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br /><span style="color: #0000ff;">const</span> NodePath <span style="color: #000040;">&amp;</span>get_camera_group<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br /><span style="color: #0000ff;">INLINE</span> <span style="color: #0000ff;">int</span> get_num_cameras<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #0000ff;">const</span><span style="color: #008080;">;</span><br /><span style="color: #0000ff;">INLINE</span> Camera <span style="color: #000040;">*</span>get_camera<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span> n<span style="color: #008000;">&#41;</span> <span style="color: #0000ff;">const</span><span style="color: #008080;">;</span><br />&#160;<br /><span style="color: #666666;">// WindowFramework also provides access to the GraphicsWindow.</span><br /><span style="color: #666666;">// for example, to set the background color to black, you can do this:</span><br />window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>get_graphics_window<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>set_clear_color<span style="color: #008000;">&#40;</span>Colorf<span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0</span>,<span style="color: #0000dd;">0</span>,<span style="color: #0000dd;">0</span>,<span style="color: #0000dd;">1</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span></pre>
<p>It's very useful to study the file panda/src/framework/windowFramework.h, since you will need to use it often.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 25/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mw_manual:pcache:idhash:2080-0!*!0!*!*!*!* and timestamp 20130413202808 -->
</div><div style="width:100%; padding: 1px;" class=subnavigation>
<table width="640px" cellpadding="0" cellspacing="0" border="0">
              <tr>
              <td width="70px" align="left">&nbsp;&nbsp;<a style="text-decoration:none" href="How_to_compile_a_CXX_Panda3D_program_on_Mac_OS_X.html"><img border=0 width=16 height=16 src="arrow_left.png" align=absmiddle> <u>Prev</u></a></td>
              <td width="70px" align="center"><a style="text-decoration:none" href="Main_Page.html"><img border=0 width=16 height=16 src="arrow_up.png" align=absmiddle><u>Top</u></a></td>
              <td width="70px" align="right"><a style="text-decoration:none" href="Texturing_in_CXX.html"><u>Next</u> <img border=0 width=16 height=16 src="arrow_right.png" align=absmiddle></a>&nbsp;&nbsp;</td>
              </tr></table></div><div id=legal>&copy; Carnegie Mellon University 2010</div></td></tr></table></td><td id=borderright></td></tr></table></td><td id=borderright></td></tr></table></body></html>