<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

  <head>
    <title>Bullet Debug Renderer - Panda3D Manual</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" href="style.css" type="text/css"><link rel="shortcut icon" href="favicon.ico">    <meta name="keywords" content="Panda3D, Panda, 3D, Python, graphics, free, game, engine, game rendering engine, simulation, open source, free download, Disney, ETC, Entertainment Technology Center, open-source">
    <meta name="description" content="Free open source 3D game and simulation engine developed by Disney and maintained by Carnegie Mellon University\'s Entertainment Technology Center">
    </head>
    <body>
<table width=960 cellpadding=0 cellspacing=0 id=main align=center>
<tr>
<td id=borderleft></td>
<td id=maincenter valign=top>
<tr><td id=pcontent valign=top><h2>Panda3D Manual: Bullet Debug Renderer</h2>
<div style="width:100%; padding: 1px;" class=subnavigation>
<table width="640px" cellpadding="0" cellspacing="0" border="0">
              <tr>
              <td width="70px" align="left">&nbsp;&nbsp;<a style="text-decoration:none" href="Bullet_Hello_World.html"><img border=0 width=16 height=16 src="arrow_left.png" align=absmiddle> <u>Prev</u></a></td>
              <td width="70px" align="center"><a style="text-decoration:none" href="Main_Page.html"><img border=0 width=16 height=16 src="arrow_up.png" align=absmiddle><u>Top</u></a></td>
              <td width="70px" align="right"><a style="text-decoration:none" href="Bullet_Collision_Shapes.html"><u>Next</u> <img border=0 width=16 height=16 src="arrow_right.png" align=absmiddle></a>&nbsp;&nbsp;</td>
              </tr></table></div><div class='wikicontent' id='wikicontentid'><p>In the previous "hello world" sample we have been introduced to a few Bullet physics objects, for example the rigid body (<code>BulletRigidBodyNode</code>) or box and plane collision shapes (<code>BulletPlaneShape</code>, <code>BulletBoxShape</code>).
</p><p>These objects are part of the Panda3D scene graph. But they are not visible. In order to be able to actually see a rigid body we had to reparent a visible geometry below the rigid body node. This is fine, since we (1) can control the way an object looks like, by choosing whatever visible geoemtry we want, and (2) we can create invisible objects too, by not reparenting any geometry below a rigid body.
</p><p>But when developing a game it sometimes would be handy to actually see where the physical objects are. This is what the <code>BulletDebugNode</code> is for. It's not meant for users playing the game, but as an aid in finding problems while developing the game.
</p><p>The debug node is pretty easy to use. We just need to create such a node, place it in the scene graph, and tell the Bullet world that we have such a node. From now on Bullet will create a "debug" visualisation of the world's content within the debug node, whenever <code>do_physics</code> is called. The following code snippet shows how to do this:
</p>

<p>
</p>
<pre class="cpp"><span style="color: #339900;">#include &quot;panda3d/bulletDebugNode.h&quot;</span><br />...<br /><span style="color: #000000;">BulletDebugNode</span> <span style="color: #000040;">*</span>bullet_dbg_node<span style="color: #008080;">;</span><br />bullet_dbg_node <span style="color: #000080;">=</span> <span style="color: #0000dd;">new</span> BulletDebugNode<span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;Debug&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />bullet_dbg_node<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_bounding_boxes<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">true</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />bullet_dbg_node<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_constraints<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">true</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />bullet_dbg_node<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_normals<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">true</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />bullet_dbg_node<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_wireframe<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">true</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />NodePath np_dbg_node <span style="color: #000080;">=</span> window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>get_render<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>.<span style="color: #000000;">attach_new_node</span><span style="color: #008000;">&#40;</span>get_physics_debug_node<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />np_dbg_node.<span style="color: #000000;">show</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />physics_world<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>set_debug_node<span style="color: #008000;">&#40;</span>get_physics_debug_node<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />...</pre>
<p>
</p><p>We can control the amount of information rendered using the following methods:
</p>
<ul><li> show_wireframe: Displays collisions shapes in wireframe mode.
</li><li> show_constraints: Display limits defined for constraints, e. g. a pivot axis or maximum amplitude.
</li><li> show_bounding_boxes: Displays axis aligned bounding boxes for objects.
</li><li> show_normals: Displays normals for triangle mesh and heightfield faces.
</li></ul>
<p>There is one thing to pay attention to: By default the <code>BulletDebugNode</code> is hidden right after creation. If we want to see the debug visualisation from the first frame on we have to unhide it, using <code>show()</code>.
</p><p>Since debug rendering is not very fast we can turn debug rendering on and off, without having to remove the debug node from the scene graph. Turning debug rendering on and of is simply done by hiding or showing the debug node. The following code shows how to toggle debug node visibility on and off, using the F1 key:
</p>

<p>
</p>
<pre class="cpp">...<br /><span style="color: #0000ff;">void</span> toggle_physics_debug<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">const</span> Event <span style="color: #000040;">*</span>e, <span style="color: #0000ff;">void</span> <span style="color: #000040;">*</span>data<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span><br />    <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">bool</span> show_state <span style="color: #000080;">=</span> <span style="color: #0000ff;">true</span><span style="color: #008080;">;</span><br />    show_state <span style="color: #000080;">=</span> <span style="color: #000040;">!</span>show_state<span style="color: #008080;">;</span><br />    bullet_dbg_node<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_bounding_boxes<span style="color: #008000;">&#40;</span>show_state<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    bullet_dbg_node<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_constraints<span style="color: #008000;">&#40;</span>show_state<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    bullet_dbg_node<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_normals<span style="color: #008000;">&#40;</span>show_state<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    bullet_dbg_node<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_wireframe<span style="color: #008000;">&#40;</span>show_state<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #008000;">&#125;</span><br />...<br /><span style="color: #000000;">framework</span>.<span style="color: #000000;">define_key</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;f1&quot;</span>, <span style="color: #FF0000;">&quot;Toggle Physics debug&quot;</span>, toggle_physics_debug, <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">void</span> <span style="color: #000040;">*</span><span style="color: #008000;">&#41;</span> <span style="color: #0000ff;">NULL</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />....</pre>
<p>You can notice that CXX code made Toggle action in different way than Python code, the reason is simple, CXX uses the BulletDebugNode instead of NodePath that parent first node, anyway you can apply the last one using global variables or static function calls, or use directly BulletDebugNode like the following program.
</p>
<pre class="cpp"><span style="color: #666666;">// Bullet Debug Node Example.</span><br /><span style="color: #666666;">// The following example is done from Python sources, Panda Reference and Panda Manual,</span><br /><span style="color: #666666;">// for more information, visit Panda3D and/or Bullet physics web site.</span><br />&#160;<br /><span style="color: #666666;">// Compiling and Linking documentation and notes are not </span><br /><span style="color: #666666;">// covered in this file, check manual for mor information.</span><br />&#160;<br /><span style="color: #339900;">#include &quot;panda3d/pandaFramework.h&quot;</span><br /><span style="color: #339900;">#include &quot;panda3d/windowFramework.h&quot;</span><br /><span style="color: #339900;">#include &quot;panda3d/nodePath.h&quot;</span><br /><span style="color: #339900;">#include &quot;panda3d/clockObject.h&quot;</span><br />&#160;<br /><span style="color: #339900;">#include &quot;panda3d/asyncTask.h&quot;</span><br /><span style="color: #339900;">#include &quot;panda3d/genericAsyncTask.h&quot;</span><br />&#160;<br /><span style="color: #339900;">#include &quot;panda3d/bulletWorld.h&quot;</span><br /><span style="color: #339900;">#include &quot;panda3d/bulletDebugNode.h&quot;</span><br /><span style="color: #339900;">#include &quot;panda3d/bulletPlaneShape.h&quot;</span><br /><span style="color: #339900;">#include &quot;panda3d/bulletBoxShape.h&quot;</span><br />&#160;<br />BulletWorld <span style="color: #000040;">*</span>get_physics_world<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span><br />    <span style="color: #666666;">// physics_world is supposed to be an global variable,</span><br />    <span style="color: #666666;">// but declaring global variables is not cool</span><br />    <span style="color: #666666;">// for good programmers lol, instead, should use static keyword.</span><br />    <span style="color: #0000ff;">static</span> BulletWorld <span style="color: #000040;">*</span>physics_world <span style="color: #000080;">=</span> <span style="color: #0000dd;">new</span> BulletWorld<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    <span style="color: #0000ff;">return</span> physics_world<span style="color: #008080;">;</span><br /><span style="color: #008000;">&#125;</span><br />&#160;<br />BulletDebugNode <span style="color: #000040;">*</span>get_physics_debug_node<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span><br />    <span style="color: #666666;">// Global variable.</span><br />    <span style="color: #0000ff;">static</span> BulletDebugNode <span style="color: #000040;">*</span>bullet_dbg_node <span style="color: #000080;">=</span> <span style="color: #0000dd;">new</span> BulletDebugNode<span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;Debug&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    <span style="color: #0000ff;">return</span> bullet_dbg_node<span style="color: #008080;">;</span><br /><span style="color: #008000;">&#125;</span><br />&#160;<br /><span style="color: #0000ff;">void</span> toggle_physics_debug<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">const</span> Event <span style="color: #000040;">*</span>e, <span style="color: #0000ff;">void</span> <span style="color: #000040;">*</span>data<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span><br />    <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">bool</span> show_state <span style="color: #000080;">=</span> <span style="color: #0000ff;">true</span><span style="color: #008080;">;</span><br />    show_state <span style="color: #000080;">=</span> <span style="color: #000040;">!</span>show_state<span style="color: #008080;">;</span><br />    get_physics_debug_node<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_bounding_boxes<span style="color: #008000;">&#40;</span>show_state<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    get_physics_debug_node<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_constraints<span style="color: #008000;">&#40;</span>show_state<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    get_physics_debug_node<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_normals<span style="color: #008000;">&#40;</span>show_state<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    get_physics_debug_node<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_wireframe<span style="color: #008000;">&#40;</span>show_state<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #008000;">&#125;</span><br />&#160;<br />AsyncTask<span style="color: #008080;">::</span><span style="color: #000000;">DoneStatus</span> update_scene<span style="color: #008000;">&#40;</span>GenericAsyncTask<span style="color: #000040;">*</span> task, <span style="color: #0000ff;">void</span><span style="color: #000040;">*</span> data<span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span><br />    <span style="color: #666666;">// Get dt (from Python example) and apply to do_physics(float, int, int);</span><br />    ClockObject <span style="color: #000040;">*</span>co <span style="color: #000080;">=</span> ClockObject<span style="color: #008080;">::</span><span style="color: #000000;">get_global_clock</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    get_physics_world<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>do_physics<span style="color: #008000;">&#40;</span>co<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>get_dt<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>, <span style="color: #0000dd;">10</span>, <span style="color: #0000dd;">1.0</span> <span style="color: #000040;">/</span> <span style="color: #0000dd;">180.0</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    <span style="color: #0000ff;">return</span> AsyncTask<span style="color: #008080;">::</span><span style="color: #000000;">DS_cont</span><span style="color: #008080;">;</span><br /><span style="color: #008000;">&#125;</span><br />&#160;<br /><span style="color: #0000ff;">int</span> main<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">int</span> argc, <span style="color: #0000ff;">char</span> <span style="color: #000040;">*</span>argv<span style="color: #008000;">&#91;</span><span style="color: #008000;">&#93;</span><span style="color: #008000;">&#41;</span> <span style="color: #008000;">&#123;</span><br />    <span style="color: #666666;">// All variables.</span><br />    PandaFramework framework<span style="color: #008080;">;</span><br />    WindowFramework <span style="color: #000040;">*</span>window<span style="color: #008080;">;</span><br />    PT<span style="color: #008000;">&#40;</span>AsyncTaskManager<span style="color: #008000;">&#41;</span> task_mgr<span style="color: #008080;">;</span><br />&#160;<br />    <span style="color: #666666;">// Init everything&#160;:D</span><br />    framework.<span style="color: #000000;">open_framework</span><span style="color: #008000;">&#40;</span>argc, argv<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    framework.<span style="color: #000000;">set_window_title</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;Bullet Physics&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    window <span style="color: #000080;">=</span> framework.<span style="color: #000000;">open_window</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>enable_keyboard<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>setup_trackball<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    task_mgr <span style="color: #000080;">=</span> AsyncTaskManager<span style="color: #008080;">::</span><span style="color: #000000;">get_global_ptr</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    <span style="color: #666666;">// Make physics simulation.</span><br />    <span style="color: #666666;">// Static world stuff.</span><br />    get_physics_world<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>set_gravity<span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">-9.8</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    BulletPlaneShape <span style="color: #000040;">*</span>floor_shape <span style="color: #000080;">=</span> <span style="color: #0000dd;">new</span> BulletPlaneShape<span style="color: #008000;">&#40;</span><span style="color: #000040;">*</span><span style="color: #0000dd;">new</span> LVecBase3f<span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">1</span><span style="color: #008000;">&#41;</span>, <span style="color: #0000dd;">1</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    BulletRigidBodyNode <span style="color: #000040;">*</span>floor_rigid_node <span style="color: #000080;">=</span> <span style="color: #0000dd;">new</span> BulletRigidBodyNode<span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;Ground&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    floor_rigid_node<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>add_shape<span style="color: #008000;">&#40;</span>floor_shape<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    NodePath np_ground <span style="color: #000080;">=</span> window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>get_render<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>.<span style="color: #000000;">attach_new_node</span><span style="color: #008000;">&#40;</span>floor_rigid_node<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    np_ground.<span style="color: #000000;">set_pos</span><span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">-2</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    get_physics_world<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>attach_rigid_body<span style="color: #008000;">&#40;</span>floor_rigid_node<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    <span style="color: #666666;">// Dynamic world stuff.</span><br />    BulletBoxShape <span style="color: #000040;">*</span>box_shape <span style="color: #000080;">=</span> <span style="color: #0000dd;">new</span> BulletBoxShape<span style="color: #008000;">&#40;</span><span style="color: #000040;">*</span><span style="color: #0000dd;">new</span> LVecBase3f<span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0.5</span>, <span style="color: #0000dd;">0.5</span>, <span style="color: #0000dd;">0.5</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    BulletRigidBodyNode <span style="color: #000040;">*</span>box_rigid_node <span style="color: #000080;">=</span> <span style="color: #0000dd;">new</span> BulletRigidBodyNode<span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;Box&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    box_rigid_node<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>set_mass<span style="color: #008000;">&#40;</span><span style="color: #0000dd;">1.0</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span> <span style="color: #666666;">// Gravity affects this rigid node.</span><br />    box_rigid_node<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>add_shape<span style="color: #008000;">&#40;</span>box_shape<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    NodePath np_box <span style="color: #000080;">=</span> window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>get_render<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>.<span style="color: #000000;">attach_new_node</span><span style="color: #008000;">&#40;</span>box_rigid_node<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    np_box.<span style="color: #000000;">set_pos</span><span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">0</span>, <span style="color: #0000dd;">2</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    get_physics_world<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>attach_rigid_body<span style="color: #008000;">&#40;</span>box_rigid_node<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    NodePath np_box_model <span style="color: #000080;">=</span> window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>load_model<span style="color: #008000;">&#40;</span>framework.<span style="color: #000000;">get_models</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>, <span style="color: #FF0000;">&quot;models/box&quot;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    np_box_model.<span style="color: #000000;">set_pos</span><span style="color: #008000;">&#40;</span><span style="color: #0000dd;">-0.5</span>, <span style="color: #0000dd;">-0.5</span>, <span style="color: #0000dd;">-0.5</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    np_box.<span style="color: #000000;">flatten_light</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    np_box_model.<span style="color: #000000;">reparent_to</span><span style="color: #008000;">&#40;</span>np_box<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    <span style="color: #666666;">// Debug stuff.</span><br />    get_physics_debug_node<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_bounding_boxes<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">true</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    get_physics_debug_node<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_constraints<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">true</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    get_physics_debug_node<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_normals<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">true</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    get_physics_debug_node<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>show_wireframe<span style="color: #008000;">&#40;</span><span style="color: #0000ff;">true</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    NodePath np_dbg_node <span style="color: #000080;">=</span> window<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>get_render<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span>.<span style="color: #000000;">attach_new_node</span><span style="color: #008000;">&#40;</span>get_physics_debug_node<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    np_dbg_node.<span style="color: #000000;">show</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    get_physics_world<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>set_debug_node<span style="color: #008000;">&#40;</span>get_physics_debug_node<span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    framework.<span style="color: #000000;">define_key</span><span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;f1&quot;</span>, <span style="color: #FF0000;">&quot;Toggle Physics debug&quot;</span>, toggle_physics_debug, <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">void</span> <span style="color: #000040;">*</span><span style="color: #008000;">&#41;</span> <span style="color: #0000ff;">NULL</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    <span style="color: #666666;">// Setup tasks and keys.</span><br />    PT<span style="color: #008000;">&#40;</span>GenericAsyncTask<span style="color: #008000;">&#41;</span> task<span style="color: #008080;">;</span><br />    task <span style="color: #000080;">=</span> <span style="color: #0000dd;">new</span> GenericAsyncTask<span style="color: #008000;">&#40;</span><span style="color: #FF0000;">&quot;Scene update&quot;</span>, <span style="color: #000040;">&amp;</span>update_scene, <span style="color: #008000;">&#40;</span><span style="color: #0000ff;">void</span><span style="color: #000040;">*</span><span style="color: #008000;">&#41;</span> <span style="color: #0000ff;">NULL</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    task_mgr<span style="color: #000040;">-</span><span style="color: #000080;">&gt;</span>add<span style="color: #008000;">&#40;</span>task<span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    framework.<span style="color: #000000;">main_loop</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />    framework.<span style="color: #000000;">close_framework</span><span style="color: #008000;">&#40;</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br />&#160;<br />    <span style="color: #0000ff;">return</span> <span style="color: #008000;">&#40;</span><span style="color: #0000dd;">0</span><span style="color: #008000;">&#41;</span><span style="color: #008080;">;</span><br /><span style="color: #008000;">&#125;</span></pre>
<p>
</p>
<!-- 
NewPP limit report
Preprocessor node count: 40/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mw_manual:pcache:idhash:2618-0!*!*!*!*!*!* and timestamp 20130413211044 -->
</div><div style="width:100%; padding: 1px;" class=subnavigation>
<table width="640px" cellpadding="0" cellspacing="0" border="0">
              <tr>
              <td width="70px" align="left">&nbsp;&nbsp;<a style="text-decoration:none" href="Bullet_Hello_World.html"><img border=0 width=16 height=16 src="arrow_left.png" align=absmiddle> <u>Prev</u></a></td>
              <td width="70px" align="center"><a style="text-decoration:none" href="Main_Page.html"><img border=0 width=16 height=16 src="arrow_up.png" align=absmiddle><u>Top</u></a></td>
              <td width="70px" align="right"><a style="text-decoration:none" href="Bullet_Collision_Shapes.html"><u>Next</u> <img border=0 width=16 height=16 src="arrow_right.png" align=absmiddle></a>&nbsp;&nbsp;</td>
              </tr></table></div><div id=legal>&copy; Carnegie Mellon University 2010</div></td></tr></table></td><td id=borderright></td></tr></table></td><td id=borderright></td></tr></table></body></html>